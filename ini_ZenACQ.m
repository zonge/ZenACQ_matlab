function  handles = ini_ZenACQ(handles)%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%main.ProgramVersion = 'v1';     % PROGRAM VERSIONmain.ProgramName = 'ZenACQ';     % PROGRAM NAME%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%main.Language_ext = '*.lan';     % READ LANGUAGE FILESmain.Setting_ext = 'ZenACQ.cfg'; % CONFIG FILE NAMEcolordef white;             % COLOR THEME%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% DELETE EXISTING OPEN SERIAL PORTSnewobjs=instrfind;if ~isempty(newobjs);fclose(newobjs);end% DELETE EXISTING TIMERnewtimer=timerfind;if ~isempty(newtimer);stop(newtimer);delete(newtimer);end% INITIALISE GRAPHICSset(handles.ZenACQ,'Name',[main.ProgramName ' ' num2str(main.ProgramVersion) ])scrsz = get(0,'ScreenSize');handles.GUI.left_bar=scrsz(4)/2;handles.GUI.bottom_bar=scrsz(4)/3;handles.GUI.width_bar=280;handles.GUI.height_bar=60;main.GUI=handles.GUI;% READ LANGUAGE FILEhandles.language = m_get_language_key(main.Language_ext);% READ SETTING FILEfirst_time=false;if ~exist(main.Setting_ext,'file');  %WRITE NEW CFG file | default : cd location and Arizona time.    first_time=true;    fid = fopen(main.Setting_ext, 'w');    fprintf(fid,'$z3d_location = %s\n',cd);    fprintf(fid,'$time_zone = %s\n','-7');    fclose(fid);    % SET VARIABLE to the other windowsendhandles.setting = m_get_setting_key(main.Setting_ext,handles,true);% DEFAULT PARAMETERhandles.main = main;% TIMERA.pass=handles;handles.timer_start = timer('TimerFcn',@timer_ini,'BusyMode','queue','UserData'...                                  ,A,'ExecutionMode','fixedRate','Period',1.0,'Name','ACQ_timer');start(handles.timer_start);% LOGOrgb = imread('Zonge_Int_logo_color.jpg');axes(handles.logo)image(rgb);axis off;% FIRST TIMEif first_time==true    welcome=helpdlg('Welcome to ZenACQ. Click OK to set up your setting. Please verify your settings prior using the program.',...    'Point Selection');    waitfor(welcome)        ZenACQ_vars.main=main;    ZenACQ_vars.setting=handles.setting;    ZenACQ_vars.language=handles.language;    setappdata(0,'tunnel',ZenACQ_vars);    ZenPREFendend